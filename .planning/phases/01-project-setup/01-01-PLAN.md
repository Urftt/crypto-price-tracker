---
phase: 01-project-setup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - pyproject.toml
  - src/crypto_tracker/__init__.py
  - src/crypto_tracker/cli.py
  - .python-version
autonomous: true
requirements:
  - SETUP-01
  - SETUP-02

must_haves:
  truths:
    - "Running `uv sync` installs the project and all dependencies without error"
    - "Running `crypto --help` prints usage information and exits with code 0"
    - "The project has no setup.py or requirements.txt — only pyproject.toml"
  artifacts:
    - path: "pyproject.toml"
      provides: "Project metadata, dependencies, and entry point configuration"
      contains: "[project.scripts]"
    - path: "src/crypto_tracker/__init__.py"
      provides: "Package init with version"
      min_lines: 1
    - path: "src/crypto_tracker/cli.py"
      provides: "CLI entry point with --help support"
      exports: ["main"]
      min_lines: 10
    - path: ".python-version"
      provides: "Python version pin for uv"
      contains: "3.12"
  key_links:
    - from: "pyproject.toml"
      to: "src/crypto_tracker/cli.py"
      via: "[project.scripts] crypto entry point"
      pattern: 'crypto\s*=\s*"crypto_tracker\.cli:main"'
    - from: "src/crypto_tracker/cli.py"
      to: "argparse or click"
      via: "CLI framework import"
      pattern: "import (argparse|click)"
---

<objective>
Scaffold a uv-managed Python project with pyproject.toml and a minimal CLI skeleton so that `crypto --help` works after `uv sync`.

Purpose: Establish the installable project foundation that all subsequent phases build on. Without this, there is no command to extend.
Output: A working `crypto` command installed via `uv sync` that responds to `--help`.
</objective>

<execution_context>
@/home/james-turing/.claude/get-shit-done/workflows/execute-plan.md
@/home/james-turing/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

Key decisions from PROJECT.md:
- Python 3.12+ runtime
- uv with pyproject.toml (no setup.py, no requirements.txt)
- Minimal dependencies: CLI framework, HTTP client, table renderer
- Entry point command: `crypto`
- Subcommands: `prices`, `watch`, `info` (wired in Phase 3, but CLI skeleton should use argparse with subparsers so they can be added later)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create pyproject.toml and project directory structure</name>
  <files>pyproject.toml, src/crypto_tracker/__init__.py, .python-version</files>
  <action>
Create the uv-managed project scaffold:

1. Create `.python-version` containing `3.12` (pin for uv).

2. Create `pyproject.toml` with:
   - `[project]` section: name = "crypto-price-tracker", version = "0.1.0", description = "Terminal crypto price tracker using Bitvavo API", requires-python = ">=3.12"
   - `[project.scripts]` section: `crypto = "crypto_tracker.cli:main"` — this is the installable entry point
   - `[build-system]` section: requires = ["hatchling"], build-backend = "hatchling.backends"
   - `[tool.hatch.build.targets.wheel]` section: packages = ["src/crypto_tracker"]
   - `[project.dependencies]`: leave as empty list `[]` for now — dependencies (httpx, rich/click, etc.) will be added in Phase 2 and 3

3. Create `src/crypto_tracker/__init__.py` with:
   - `__version__ = "0.1.0"`

Use the src layout (`src/crypto_tracker/`) so the package is cleanly separated from project root files.

Do NOT create setup.py, setup.cfg, or requirements.txt. Do NOT add any dependencies yet — this phase is scaffold only.
  </action>
  <verify>
    <automated>cd /home/james-turing/repos/crypto-price-tracker-v2 && test -f pyproject.toml && test -f src/crypto_tracker/__init__.py && test -f .python-version && grep -q "project.scripts" pyproject.toml && ! test -f setup.py && ! test -f requirements.txt && echo "PASS"</automated>
  </verify>
  <done>pyproject.toml exists with [project.scripts] entry point, src/crypto_tracker/__init__.py exists with version, .python-version pins 3.12, no setup.py or requirements.txt present</done>
</task>

<task type="auto">
  <name>Task 2: Create CLI entry point and verify installation</name>
  <files>src/crypto_tracker/cli.py</files>
  <action>
1. Create `src/crypto_tracker/cli.py` with a `main()` function that:
   - Uses `argparse.ArgumentParser` with prog="crypto" and a description like "Cryptocurrency price tracker — Bitvavo API, EUR prices"
   - Adds placeholder subparsers (`prices`, `watch`, `info`) using `add_subparsers(dest="command")` — each with a brief help string but NO implementation yet (they will be wired in Phase 3)
   - If no subcommand is given, prints help and exits (parser.print_help() + sys.exit(0))
   - The `info` subparser should accept a positional `symbol` argument (placeholder for Phase 3)
   - The `watch` subparser should accept an optional `--interval` argument with type=int, default=30 (placeholder for Phase 3)

   Do NOT import any external packages — only stdlib (argparse, sys). This keeps the scaffold dependency-free.

2. Run `uv sync` to install the project in dev mode.

3. Run `crypto --help` and verify it prints usage with the three subcommands listed.

4. Run `crypto prices` and verify it does not crash (it can print a placeholder message or do nothing — it just must not error).

These verification steps confirm SETUP-01 (uv project works) and SETUP-02 (crypto entry point is installable and runs).
  </action>
  <verify>
    <automated>cd /home/james-turing/repos/crypto-price-tracker-v2 && uv sync 2>&1 && crypto --help 2>&1 | grep -q "crypto" && crypto prices 2>&1; echo "exit=$?"</automated>
  </verify>
  <done>`uv sync` completes without error, `crypto --help` shows usage with prices/watch/info subcommands, `crypto prices` exits without crashing</done>
</task>

</tasks>

<verification>
After both tasks complete, verify the full Phase 1 success criteria:

1. `uv sync` installs without error → confirmed in Task 2
2. `crypto --help` shows usage → confirmed in Task 2
3. pyproject.toml has `[project.scripts]` entry point, no setup.py or requirements.txt → confirmed in Task 1

Run the combined check:
```bash
cd /home/james-turing/repos/crypto-price-tracker-v2
uv sync 2>&1 | tail -3
crypto --help
crypto prices
crypto watch --help
crypto info --help
```

All commands should exit 0 with no tracebacks.
</verification>

<success_criteria>
- `uv sync` exits 0 with the project installed
- `crypto --help` prints a help message mentioning `prices`, `watch`, and `info`
- `crypto prices` exits without error (placeholder OK)
- `crypto watch --help` shows the `--interval` option
- `crypto info --help` shows the `symbol` argument
- No setup.py, setup.cfg, or requirements.txt exist in the project root
- pyproject.toml contains `[project.scripts]` with `crypto = "crypto_tracker.cli:main"`
</success_criteria>

<output>
After completion, create `.planning/phases/01-project-setup/01-01-SUMMARY.md`
</output>
