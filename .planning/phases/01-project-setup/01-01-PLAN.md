---
phase: 01-project-setup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - pyproject.toml
  - src/crypto_tracker/__init__.py
  - src/crypto_tracker/cli.py
autonomous: true
requirements:
  - SETUP-01
  - SETUP-02

must_haves:
  truths:
    - "`uv sync` installs the project and all dependencies without error"
    - "`crypto --help` prints usage information and exits with code 0"
    - "The project has no setup.py or requirements.txt — only pyproject.toml"
  artifacts:
    - path: "pyproject.toml"
      provides: "Project metadata, dependencies, and [project.scripts] entry point"
      contains: "[project.scripts]"
    - path: "src/crypto_tracker/__init__.py"
      provides: "Python package marker with version"
    - path: "src/crypto_tracker/cli.py"
      provides: "CLI entry point function with --help support"
      exports: ["main"]
  key_links:
    - from: "pyproject.toml"
      to: "src/crypto_tracker/cli.py"
      via: "[project.scripts] crypto = crypto_tracker.cli:main"
      pattern: 'crypto_tracker\.cli:main'
---

<objective>
Scaffold a uv-managed Python project with pyproject.toml, a `src/crypto_tracker` package, and a minimal CLI skeleton so that `crypto --help` works after `uv sync`.

Purpose: Establish the installable project foundation that all subsequent phases build on — the entry point, package structure, and dependency management.
Output: A working `crypto` command installed via uv with `--help` output.
</objective>

<execution_context>
@/home/james-turing/.claude/get-shit-done/workflows/execute-plan.md
@/home/james-turing/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create pyproject.toml with uv project configuration and entry point</name>
  <files>pyproject.toml</files>
  <action>
Create `pyproject.toml` at the project root with:

1. **[project]** section:
   - `name = "crypto-tracker"`
   - `version = "0.1.0"`
   - `description = "Terminal cryptocurrency price tracker using the Bitvavo API"`
   - `requires-python = ">=3.12"`
   - `dependencies = ["click>=8.1"]` (Click is the CLI framework — lightweight, well-known, perfect for subcommands)

2. **[project.scripts]** section:
   - `crypto = "crypto_tracker.cli:main"` — this is the installable entry point

3. **[build-system]** section:
   - `requires = ["hatchling"]`
   - `build-backend = "hatchling.build"`

4. **[tool.hatch.build.targets.wheel]** section:
   - `packages = ["src/crypto_tracker"]`

Do NOT create setup.py, setup.cfg, or requirements.txt. The pyproject.toml is the single source of truth for project metadata and dependencies.
  </action>
  <verify>
    <automated>test -f pyproject.toml && grep -q 'crypto_tracker.cli:main' pyproject.toml && grep -q 'project.scripts' pyproject.toml && ! test -f setup.py && ! test -f requirements.txt && echo "PASS" || echo "FAIL"</automated>
  </verify>
  <done>pyproject.toml exists with [project.scripts] entry point mapping `crypto` to `crypto_tracker.cli:main`, uses hatchling build backend, requires Python 3.12+, depends on click>=8.1, no setup.py or requirements.txt exist</done>
</task>

<task type="auto">
  <name>Task 2: Create Python package with CLI skeleton</name>
  <files>src/crypto_tracker/__init__.py, src/crypto_tracker/cli.py</files>
  <action>
Create the `src/crypto_tracker/` package directory and two files:

1. **src/crypto_tracker/__init__.py**:
   - Set `__version__ = "0.1.0"`
   - Keep minimal — just the version string

2. **src/crypto_tracker/cli.py**:
   - Import click
   - Create a `@click.group()` named `main` with help text: "Cryptocurrency price tracker — live EUR prices from Bitvavo."
   - Add three placeholder subcommands as stubs (implemented in Phase 3, but registered now so `--help` shows them):
     - `prices` — "Display top cryptocurrency prices" (just prints "Coming soon." and exits)
     - `watch` — "Watch prices with auto-refresh" (just prints "Coming soon." and exits)
     - `info` — "Show detailed info for a coin" (takes a `symbol` argument, just prints "Coming soon." and exits)
   - The `main` function is the entry point referenced by pyproject.toml

After creating files, run:
```bash
uv sync
```
This installs the project in development mode and makes the `crypto` command available.

Verify the command works:
```bash
uv run crypto --help
uv run crypto prices
uv run crypto watch
uv run crypto info BTC
```

All commands should exit cleanly (exit code 0).
  </action>
  <verify>
    <automated>cd /home/james-turing/repos/crypto-price-tracker-v2 && uv sync 2>&1 && uv run crypto --help 2>&1 && uv run crypto prices 2>&1 && uv run crypto info BTC 2>&1 && echo "ALL PASS" || echo "FAIL"</automated>
  </verify>
  <done>`uv sync` succeeds, `crypto --help` shows the group with three subcommands (prices, watch, info), each subcommand runs without error and prints placeholder output, package structure is src/crypto_tracker/ with __init__.py and cli.py</done>
</task>

</tasks>

<verification>
Run the following checks to confirm Phase 1 is complete:

1. **No legacy files:** `! test -f setup.py && ! test -f requirements.txt` — only pyproject.toml for project config
2. **Entry point installed:** `uv run crypto --help` exits 0 and shows usage with prices/watch/info subcommands
3. **Clean install:** `uv sync` completes without errors
4. **Package structure:** `test -f src/crypto_tracker/__init__.py && test -f src/crypto_tracker/cli.py`
5. **Subcommands work:** `uv run crypto prices`, `uv run crypto watch`, `uv run crypto info BTC` all exit 0
</verification>

<success_criteria>
- `uv sync` installs the project without error
- `crypto --help` prints usage showing the crypto command group with prices, watch, and info subcommands
- pyproject.toml has `[project.scripts]` with `crypto = "crypto_tracker.cli:main"`
- No setup.py or requirements.txt exists
- src/crypto_tracker/__init__.py and src/crypto_tracker/cli.py both exist
</success_criteria>

<output>
After completion, create `.planning/phases/01-project-setup/01-01-SUMMARY.md`
</output>
